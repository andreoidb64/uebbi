#!/bin/sh

action=${REQUEST_URI/*\?/}; action=${action/=*/}

case "$action" in
  "plus")
	newvol=$(hmix|awk -F: '"$1"="MASTER" {print $3+5; exit}')
	if [ $newvol -gt 100 ]
	then
		newvol=100
	else
		hmix -master $newvol
	fi
	;;
 "minus")
	newvol=$(hmix|awk -F":" '"$1"="MASTER" {print $3-5; exit}')
	if [ $newvol -lt 0 ]
	then
		newvol=0
	else
		hmix -master $newvol
	fi
	;;
 "reset")
	newvol=70
	hmix -master $newvol
	;;
  "mute")
	newvol=0
	hmix -master $newvol
	;;
       *)
	newvol=$(hmix|awk -F":" '"$1"="MASTER" {print $3; exit}')
	;;
esac

echo 
cat <<-!EOT
	<html>
	<head><title>Uebbi Volume Management</title></head>
	<body>
	<br>
	<br>
	<a href="/cgi-bin/contr-vol?mute=">
	  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAExMTFhYWGRkZGhoaGxsbHBwcHR0dHh4eQEBAW1tbdHR0dXV1dnZ2eHh4f39/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARHZfyAAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAHsSURBVGhD7dfpbsIwEARgegC9aN7/aVMf63tNYDsTtRLzI1pbjj/koMQ+rDvkgdyVP488vUixFTvyeXCReiNmJBhkJBqHRZrXY0TEoCLJYCLZICLF4CFfcf6Tv7AQMb4XfyUhyViJSDaISDF4SGXQkNpgIY1BQlqDg3QGBekNBjIYBGQ08IhiwBHNQCOqAUZ0A4tMDCgyM4zIouUjEIphQs5hskkUw4SEySbRDAsSbplENdCIDOliRd7laZf4XjAy3uJ7t5Gj2+qFoorrO0uJQXx1DFXOq++TGoe0SjCwSNgW14pbKxfscsmkWYnN8pgwSKv0BgqplcGAIUUZDRySFMUAIqKEtAYSKUpnQJGk9Mb/Q/ZYrj0efDRO8T3WKjBEjPS2bBQUkg3lnYxC4vdDfn4EKwWDNMaoQJBqrWK6DggSRlVGUqSBQxpDFKkxiNtH5+95ivuPvUnZIrts7iaRIV3AyEXGtDEgcfUnURULcvUQpCkWxN2lRY5zimJD9FwCoihIZKpAkZmCRSYKGNEVNKIqcERT8IiiEJBRYSCDQkF6hYN0CglpFRbSKDSkVnhIpRCRojCRrFCRpIQ9Ig1Jig8PqRQiUhQmkhUqkhQuIoo0NmJGoiL1RuzIuj53p6tpfoPcnAdyV3ZA1vUHvdAfPJKPIuUAAAAASUVORK5CYII="
	    alt="MUTE" style="width:80px;height:80px;border:0" >
	</a>
	<font size="8" color="red">Mute</font>
	<br>
	<br>
	<br>
	<br>
	<a href="/cgi-bin/contr-vol?minus=">
	  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAAgICAwMDBQUFBgYGExMTFBQUFRUVFhYWGRkZGxsbHBwcHR0dHh4eHx8fNjY2Nzc3QEBAU1NTVFRUVVVVVlZWW1tbYGBgZmZmaWlpampqa2trcHBwcXFxdHR0dXV1dnZ2eHh4e3t7fX19f39/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVudRKQAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAHlSURBVGhD7ddrT8JAEIXhiuIN74h3BZX//xdXZnd63dlW1nMaTHg/NMNm2idgolK4EdojW7XzyPRMh6HykY9ik84DZSPeICPBKNb6sr9MRA0qUhpMpDKISG3wkGV4/kwuLESNz7VcSUhpOCJSGUSkNnhIw6AhTYOFtAwS0jY4SMegIF2DgUQGAYkNPGIYcMQy0IhpgBHbwCIJA4qkjExkbfXgCcPIQi78wxIZRhbiH5bIMnIQf0si00AjutIpF7nVn3adnIKR+BY53Q3ksijm/igVAHmT4Skc2gGQx56lEABxE5mm/tAOgYStLz+aQZCFjD1vBYK4o/SahEHuZX4JsxEG8XvXOscBkWOd44DIROe4/4aM8nHd6ByHQeYyv4bZCIMcptckCHInI/vXit/69qMZAjmQ6cQf2gGQUf5ovcvwHA7tAIi7KoqFP0qFQAZrIaP8c5dIVzqBkZXutMtAwqefyFRykN4vQZaSg2zustKvc4aSh9itPGIoSCSpQJGUgkUSChixFTRiKnDEUvCIoRCQWGEgkUJBugoH6SgkpK2wkJZCQ5oKD2koRKRWmEilUJFSOZcLDSkViYc0FCJSK0ykUqhIqXARVfTFQNlIUHQeKB9x7nSmw1B/QX7dHtmqERDnfgD1U+XOBxkbGAAAAABJRU5ErkJggg=="
	    alt="VOLUME-" style="width:80px;height:80px;border:0" >
	</a>
	<font size="8"><b> $newvol </b></font>
	<a href="/cgi-bin/contr-vol?plus=">
	  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAAQEBAgICAwMDBQUFBgYGBwcHCQkJCgoKCwsLDAwMDw8PEBAQEREREhISExMTFBQUFRUVFhYWFxcXGBgYGRkZGxsbHBwcHR0dHh4eHx8fIiIiIyMjJSUlJiYmKCgoKSkpKioqKysrNDQ0NjY2Nzc3ODg4Ojo6PDw8PT09Pz8/QEBAQUFBQ0NDRERETU1NT09PUlJSU1NTVFRUVVVVVlZWV1dXWVlZWlpaW1tbXFxcXV1dYGBgZWVlZmZmZ2dnaWlpampqa2trbW1tb29vcHBwcXFxdHR0dXV1dnZ2d3d3eHh4e3t7fX19fn5+f39/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANMRTRwAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAANQSURBVGhD7ZhpV9QwFIaLCK6IoIjiruAKLiAqbrgroM7//zUx97236ZKkDZ3cOXoO74fyJNzMc6ZN03QKM4EcSQ6Vf14yvyTQl+GSH4WNcE8GS+BQlrCjGEmzOwMl4lCVlA5NiXMoSiqHnuQnf/4yHbQk4jgY0VFJUjqMosQ5FCWVQ09Sc6hJ6g4tScOhJGk6dCQth4qk7dCQeA4Fie+ISuyadlWwTJok4IhKqPumsCRJEnJ0SooH0uCkSIKOqOQiit9LC0mQhB3xC38O5dJA+iURR1xiZuk/Z6RB6ZXEHB0SvixPpWFTk4xC2cGAgMOXXC6Ke0xvMIaZ4tCWxBNweJI/1F5nxvO/msdOQt2xhByehM+rzCowo01JGBJJ0OGfrlMoZl4nvMWcJpGSVjyJOU49Z5kJ3cCG5LFc7SqN2mZ8CX/yDnCDcBPYkjSHUKg3XYKpOMVMOMOYRXKlKLbQZRap7zlwiRCURfKN4AN3Ek6D0LsNzCF5VyuyX6pEonlB/jOOxEwTlZ9ncxt0mhCU58Kj6hfwGCEI8wuUR7JNyF9ljRB0QLQPzCIxM64MH/0FSMQzLY/kBfEnINETR3eZcBxXgrpVR9cdrTDhmEVy3tGcI34+ZpTwTUg06+gEE47/j2Qip2vN0Q1HOS/8FvFnIJHOFMYzEbRPpHIzbhLysrJKCIIu47KCqt/AKUJQ5gUSK+8COjHgDijvUl9/aGGLyEjEszqH5DvBR+4k5JvyK+FLYJbTteIe5gvUxxuhzBuJKq+oq7Yl4uWlJcmyuXsLxD41uLmLREpa8SW4JXndap6CFMme1DTjSU6imPkRIe9abCpbR4KWtoR//tzlBpjRxlHnS1DI0pagvcF8idi9OVQSWxWKvM4FLN7psrvH+0yvMYaZUsNw9jAgYPEkVTDimTRseiVRS1yCXZi8DCH9kpglKplDuTSQBEnEEpNcQLHMMk6KJGyJSVD6UBqcJEnQ0iUZ8lNU0BKT2BvummCZREnAEr3wflIlvkVD4llUJG2LjqRlUZI0LVqShkVNUrfoSWoWRUll0ZQ4i6qktOA5riYpLRQ9Sc2iKKksmhJnUZWUFl2JWKTRk8EStgj3ZLjEmMVlgb6MI0nOkeRQmYDEmL80WmW4YOxu3AAAAABJRU5ErkJggg=="
	    alt="VOLUME+" style="width:80px;height:80px;border:0" >
	</a>
	<br>
	<br>
	<br>
	<br>
	<br>
	<a href="/cgi-bin/contr-vol?reset=">
	<font size="8" color="blue">Reset Volume (70)</font>
	</a>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<a href="/XampleCGI/index.html"> <font size="8">Ritorna a /XampleCGI/</font> </a>
	<body>
	<html>
!EOT
